<Window x:Class="FlytekStore_MVVM.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Flytek Tienda" Height="700" Width="1000" Background="#ebf0f3">

    <!-- Contenedor principal -->
    <Grid>

        <!-- HEADER / NAVEGADOR -->
        <Grid Height="70" Background="#3d4858" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>

            <!-- LOGO -->
            <StackPanel Orientation="Horizontal" Grid.Column="0" VerticalAlignment="Center" Margin="40,0,0,0">
                <Image Source="pack://application:,,,/Resources/LOGO_FLYTEK.png" Height="40"/>
            </StackPanel>

            <!-- MENÚ DE NAVEGACIÓN -->
            <StackPanel Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button Content="Inicio" Margin="10,0" Foreground="#2594df" Background="Transparent" BorderBrush="Transparent"/>
                <Button Content="Catálogo" Margin="10,0" Foreground="#f3f7f6" Background="Transparent" BorderBrush="Transparent"/>
                <Button Content="Acerca de" Click="AbrirAcercaDe_Click" Margin="10,0" Foreground="#f3f7f6" Background="Transparent" BorderBrush="Transparent"/>
                <Button Content="Contacto" Margin="10,0" Foreground="#f3f7f6" Background="Transparent" BorderBrush="Transparent"/>
            </StackPanel>

            <!-- BUSCADOR Y CARRITO -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,20,0">
                <Border Background="#f3f7f6" CornerRadius="4" Height="30" Width="250" VerticalAlignment="Center" Margin="0,0,10,0">
                    <Grid>
                        <TextBox x:Name="txtBuscador" Margin="8,0,28,0" BorderThickness="0" VerticalContentAlignment="Center" FontSize="14" Background="Transparent" Foreground="Black" ToolTip="Buscar producto..."/>
                        <Button Width="24" Height="24" HorizontalAlignment="Right" Margin="0,0,3,0" VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent" Click="Buscar_Click">
                            <TextBlock Text="🔍" FontSize="14" Foreground="#555"/>
                        </Button>
                    </Grid>
                </Border>

                <Button Width="40" Height="30" Background="Transparent" BorderBrush="Transparent" Click="AbrirCarrito_Click">
                    <TextBlock Text="🛒" FontSize="18" Foreground="White"/>
                </Button>
            </StackPanel>
        </Grid>

        <!-- PRODUCTO PRINCIPAL -->
        <Border Margin="60,100,60,220" Background="Transparent">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1.2*" />
                    <ColumnDefinition Width="1.8*" />
                </Grid.ColumnDefinitions>

                <!-- Imagen grande del Dron -->
                <Image Grid.Column="0" Source="pack://application:,,,/Resources/DRON.png"
                       Stretch="Uniform" Height="280"
                       HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,20,0"/>

                <!-- Info a la derecha -->
                <StackPanel Grid.Column="1" Margin="40,0,0,0" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <TextBlock Text="DRON AVANZADO X20" FontSize="26" Foreground="#565c65"
                               FontWeight="Bold" Margin="0,0,0,10"/>
                    <TextBlock Text="499,00 €" FontSize="20" Foreground="#8894a1"
                               Margin="0,0,0,20"/>
                    <Button Tag="DRON AVANZADO X20"
                            Width="170" Height="38"
                            Background="#2594df"
                            Foreground="White"
                            BorderBrush="#2594df"
                            Click="AgregarProductoDesdeLista_Click"
                            HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="+ Añadir al carrito" FontSize="15" Margin="0,0,2,0"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- LISTADO DE PRODUCTOS DESDE EL VIEWMODEL -->
        <ItemsControl ItemsSource="{Binding ListaProductos}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Rows="1" Columns="4" Margin="20,400,20,80"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Background="#f3f7f6" BorderBrush="#ccd3da" BorderThickness="1"
                    Margin="10" Padding="4"
                    Click="AgregarProductoDesdeLista_Click">
                        <StackPanel>
                            <Image Source="{Binding Imagen}" Height="90" Stretch="Uniform" />
                            <TextBlock Text="{Binding Nombre}" Foreground="#565c65" FontWeight="SemiBold"
                               TextAlignment="Center" Margin="0,8,0,0"/>
                            <TextBlock Text="{Binding Precio, StringFormat={}{0:0.00} €}" Foreground="#8894a1"
                               TextAlignment="Center" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- FOOTER -->
        <StackPanel Orientation="Horizontal" Background="#3d4858" Height="50"
                    VerticalAlignment="Bottom" HorizontalAlignment="Stretch">
            <TextBlock Text="Contacto: info@flytek.com  |  Tel: +123 456 789   |   Síguenos en redes"
                       Foreground="White" VerticalAlignment="Center" Margin="20,0"/>
            <TextBlock Text="{Binding MensajeEstado}" Foreground="White"
           VerticalAlignment="Center" Margin="20,0"/>

        </StackPanel>

    </Grid>
</Window>
